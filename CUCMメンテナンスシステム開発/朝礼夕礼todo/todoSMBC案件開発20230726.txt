SMBC案件　朝礼夕礼todo　2023/07/26 11:30

●木村さん
□BAT検証用ファイル作成
　負荷試験用のテストデータ　14,000件、7/21まで　→連携済
□BAT仕様　→終了　→コムと意識合わせ、来週
　コムと仕様を確認するのに必要
　14_基本設計_統合ID取込 11_個別検討 10_BATファイル検討
　【IP電話EOL】CUCMメンテナンスシステム_BATファイル項目仕様_トランザクション_20230615_01.xlsx
　S～Y、AD～AJ、AS～AY
　①空欄部分
　②選択肢をどのように作成しているのか
　　　→詳細設計書に記載の部分は記載してない
　　　→phone.csvのNo.14,17,18については更新対象となっていないにも関わらず、備考には保持するような記載があります。
　※詳細設計と2重管理になるので、今後は、修正入ったら、詳細設計は木村さんが修正して、コム向けは、別の人が修正
□7/28 健康診断（木村、半澤、髙田）
□設計書の見直し（LINEの検索、話中転送）

●半澤さん
□電話機一括登録→戻し作業対応中、7/26終了予定
□稼働時間制限のため7/26まで
□電話機一括登録のIF設計がない

●髙田さん
□ユーザーと電話機の一覧→あらかた終了、木村さんのレビュー＆動確
□稼働時間制限のため7/26まで
□log4jのログローテ設定、まだログ出力できない

●姚（ヨウ）さん
□（BT_003）回線情報一覧出力　目標7/25
　ユーザと電話機の一覧と同じSQLのはず、逆に設計書を修正する
  \\fs01.pipit.local\PI\project\soshiki\developer\プロジェクト\NTTCom\SMBC日興\30_設計\02_詳細設計\12_詳細設計(画面一覧+画面遷移+画面設計+機能設計)
  （FRT_001_01）ユーザーと電話機の一覧
　出力する項目は、一覧をエクスポートボタン押下のシート参照
□エビデンス
□ＡＤ情報社員コード桁数変更

●岡山
□メンテナンス
　拠点の検索、追加、変更、削除、紐付、紐付解除は終了している
　ユーザ設定　→終了
　除外データ取込み　→エラーが出てる、ダブルクォートで囲む、BOMなしにする　→解決
　共用名マスタ、ソフトキーテンプレート、拡張モジュール取込　→終了
　共用名マスタ、ソフトキーテンプレート、拡張モジュール出力　→対応中、目標7/27
　連携用ファイル出力は重いので、他の箇所を先に対応する

●佐藤
□夏休みの取得タイミングにルールがあるかコム確認
　→ルールは特にないので自由に調整してください
　木村　8/14～8/16
　岡山　8/14～8/16
□BAT登録と更新を分けて出力する→変更箇所精査（工数出し）
　ユーザと電話機の紐付たときは新規、すでに紐付があるときは変更
□IF仕様の、ヘッダ要不要、囲み文字を確認
□人事情報・AD情報取込、CUC情報出力　ソースレビュー
□AD情報(ad.csv)の社員コード(login_nm)が7桁から10桁に変わる
　影響調査1、DB定義変更0.5、プログラム変更・確認2、設計書変更1、レビュー0.5、1週間
　詳細設計書
　　・254 AD情報の社員コードは7桁から10桁に変更
　　・263 10桁の場合7桁に加工は不要
　　・269
　　...
　DB定義
　　・TMP_AD情報(tmp_ad)のログイン名(login_nm)を7桁から10桁
□内部向けWBS作成
　日付を設定
　誰がどの画面をいつからいつまで作成するのか明確化
　単体試験実施
□仕様再検討　削除登録のときは保持している値を出力。変更された項目と関係ない項目は空白を出力。
　例）メンテSysで通話録音を変更したときは、ソフトキーテンプレートは空白を出力
　　→履歴テーブルで管理するようにすればできなくはない、と思われる
□課題棚卸
□基本設計書と詳細設計書対比表
　\\fs01.pipit.local\PI\project\soshiki\developer\プロジェクト\NTTCom\SMBC日興\30_設計\02_詳細設計\31_対比表
　【IP電話EOL】設計マトリクス_02_IP電話システム_20230605_01.xlsx
□今後の確認すべきと思われる事
　　3.説明/確認
　　　①CUCMでビジートリガーを設定変更した日の夜にCUCMメンテから当該ラインの更新が入ると上書きされる（証券/コムサポ）
　　　②統合ID＆AD出力の組織情報＆社員情報を作業フォルダに格納する方式はSCPで（高木さん）
　　　③バッチ仕様/監視システムへのファイル転送内容（高木さん）・・＞ QA管理表に記載して確認？
　　　④SJISであればログを日本語で出してよいか？（高木さん）・・＞ QA管理表に記載して確認？
□ヘルプ画面の新しい項目値に対する説明文書
　新規追加項目の洗い出し　ソフトキーテンプレートとか
□電話機の色（固定併用、固定のみ、FMCのみ、など）
　→どんなパターンがあるかから整理　→よけい色が多くなりすぎるので、色分け無しの方向
□課題60　【CUCMメンテナンスシステム】バッチジョブフローについて
□課題61　【CUCMメンテナンスシステム】057(NBS)の取り込みについて
　ADからもらってる社員区分、メールアドレス、英語名はメンテシステムに無くても問題ないのか。
　CUCMはAD情報がメイン、メンテSysは人事情報がメイン、よってADのみに存在する社員はメンテSysからCUCMに連携されない
　社員区分は
□課題62　【CUCMメンテナンスシステム】サブシステム制約課題の対応方針
　今週中にお客様から一時回答

●浅見
□BAT検証
　tarにheader.txtが必要
　空白があまり許容されてない
　enduser.csvでパスワード変更ができない、カスタムファイルでできそう
　水曜までユニアで検証
　木金でコム内で変更箇所整理
　ユニアに確認
　ピセに変更内容の共有
□木村さんからの質問
・昨日の打合せの中でリストの絞り込み条件を記載してほしいとありましたが、絞り込み条件については全て詳細設計に記載あります。
　わざわざ転記しなければいけないでしょうか？
・phone.csvのNo.14,17,18については更新対象となっていないにも関わらず、備考には保持するような記載があります。
　どちらが正しいのでしょうか？　早め
　　　→終了
・180	Forward No Answer Ring Duration 1
　DBにはCUCMから連携された値を保持。新規作成時は固定値設定
　　　→終了
・209	Forward Unregistered Internal Destination 1　[転送先番号]
　　　→終了
・212	Forward Unregistered External Destination 1　[転送先番号]
　　　→終了
・全転送のなどの項目をBATファイルで連携するか？
　　　→未

●コム定例から連携事項

●変更管理
・電話機一括登録、ユーザと電話機の一覧の仕様　→課題表に追加
　①電話機一括登録のときは入力しないので、ダイアルインの有無に応じて、下記の制御を行ってます。　　　★
　　phone.csvのcss（[拠点番号(_群)]+"_"+[部コード]+"_"+[コーリングサーチスペース種類]）に、
　　ダイアルイン有りの場合、Dialin、
　　ダイアルイン無しの場合、NoDialinを[コーリングサーチスペース種類]にセットしている。
　　このままでよいか？
　②Softkey templateの追加ですが、英語表記か、カナ表記（ソフトキーテンプレート）か確認したい
　　英語表記「Softkey template」
・部署名をセットする
　trn_userの部署名をセットするようにする
　　エンドユーザ.csvを出力するときに必要
　trn_userを更新（5.既存社員のプロパティ更新、555行目）するときに、正社員区分の値を比較して、
　　変更があった場合に、そのユーザに紐づく電話機情報（trn_phone）のupdate_statusを1にする
　変更管理へ移動
・translationpattern.csvの出力条件
　→発呼側トランスフォーメーションの有無を条件とするとしていたが、オフィスリンクの紐付があるとき、紐付が外れた時に出力することとする。
・enduser.csvの出力条件
　→出力はユーザーとの紐付があれば、行う方針でよい。
　　AD情報・人事情報取込時に、CUCMパスワードに変更（社員区分が変更されたら）あればenduser.csvの出力対象としなければいけない。
　　そのため、上記の条件の時にtrn_phoneのupdate_statusを1に設定する必要がある。
　→残課題あり
・夜間バッチエラー発生画面は不要（詳細設計指摘事項を参照）
・ログローテーションが、1日毎、90日保存に変更
　\\fs01.pipit.local\PI\project\soshiki\developer\プロジェクト\NTTCom\SMBC日興\50_試験
　【IP電話EOL】合否判定基準&試験成績書(CUCMメンテ)_20230606_02.xlsx
　合否判定基準(CUCM)シート
　ログローテーション確認
・BATファイル（enduser.csv）の連携がやっぱり必要。（一旦連携不要になったファイル）
　#追加工数　設計2,3日、製造・単体3日
・マキシマムナンバーコール
　　同時通話数の最大数
　　このチェック処理も必要
　→1づつ確認していると付加がかかる、どこかでまとめて対応したい
　　→ユニアで確認中
・ソフトキーテンプレートマスタ追加
・拡張モジュール・機種マスタ追加
・CUCMメンテナンスシステムのバッチ内で他のバッチの実行結果を判断し、自バッチの実行をスキップするか否かの判定は行わない。
　【IP電話／通録EOL】QA依頼事項管理表_20230620_01.xlsxのNo75
・夜間バッチエラー発生画面は不要となった。
　【IP電話／通録EOL】QA依頼事項管理表_20230620_01.xlsxのNo75

●対応不要
・ビジートリガー　→現状保持している　→画面修正（追加工数）　　　→不要
　1ラインの着信数の設定、現状はCUCM直接操作、メンテ側で保持してほしい
　　画面追加は詳細設計に影響が出るので

●その他
・納品物
　薄橙　未完成
　赤　　お客様遅延
　黄　　検証フェーズで確認

●進め方
□単体テストの進め方
　試験仕様書どこまでかく
　　詳細設計書の欄外に、日付と名前と結果を記入　例)2023/07/06 佐藤 OK
　画面
　　イベント処理ごとに確認（登録ボタン、検索ボタン）
　　　画面表示（DBの項目が画面に表示されるかなど）
　　　DBに登録されるか
　　　バリデーション（数字のみ項目とか）
　　　エラー時の動作確認
　ファイル入出力
　　イベント処理ごとに確認
　　　ファイルの項目がDBに取り込まれるか（全項目確認）
　　　DBの項目がファイルに出力されるか（全項目確認）
　　　エラー時の動作確認
　できれば下記の観点でも確認してほしい
　　\\fs01.pipit.local\PI\project\soshiki\developer\プロジェクト\NTTCom\SMBC日興\50_試験
　エビデンスは画面ショットを取得して、画像ファイルをサーバに保存
　           ファイル操作は、入力したCSVファイルと取り込んだDBをエクセルに貼り付け


以上